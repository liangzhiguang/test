<!DOCTYPE html>
<html>
<head>
  <title>先点击复制提示词,再粘贴到ChatGPT</title>
  <style>
    /* 容器样式 */
    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      background: #f2f2f2;
    }

    /* 按钮样式 */
    .button {
      width: 90%;
      height: 50px;
      margin-bottom: 10px;
      text-align: center;
      font-size: 24px;
      font-weight: bold;
      color: white;
      border-radius: 25px;
      cursor: pointer;
    }

    /* 彩虹效果 */
    .button:nth-child(1) { background-color: #FF5F6D; }
    .button:nth-child(2) { background-color: #FFC371; }
    .button:nth-child(3) { background-color: #FFFC7F; }
    .button:nth-child(4) { background-color: #9EE09E; }
    .button:nth-child(5) { background-color: #77DDFF; }
    .button:nth-child(6) { background-color: #A299FF; }
    .button:nth-child(7) { background-color: #FF85CD; }
    .button:nth-child(8) { background-color: #FFB3A7; }
    .button:nth-child(9) { background-color: #FFD700; }

    /* 响应式设计 */
    @media only screen and (min-width: 600px) {
      .button {
        width: 60%;
      }
    }
  </style>
  <script>
    function copyToClipboard(text) {
      var textarea = document.createElement("textarea");
      textarea.value = text;
      document.body.appendChild(textarea);
      textarea.select();
      document.execCommand("copy");
      document.body.removeChild(textarea);
    }

    function readFile() {
      var file = "prompt.txt";
      var rawFile = new XMLHttpRequest();
      rawFile.open("GET", file, true);
      rawFile.onreadystatechange = function() {
        if (rawFile.readyState === 4 && rawFile.status === 200) {
          var content = rawFile.responseText;
          var prompts = content.match(/\[(.*?)开始\]/g);
          if (prompts && prompts.length > 0) {
            var buttonContainer = document.getElementById("button-container");
            buttonContainer.innerHTML = ""; // 清空容器

            prompts.forEach(function(prompt, index) {
              var promptName = prompt.substring(1, prompt.length - 3);

              // 创建按钮元素
              var button = document.createElement("button");
              button.textContent = promptName;
              button.className = "button";
              button.onclick = function() {
                copyPromptToClipboard(content, promptName);
              };

              // 添加按钮到容器中
              buttonContainer.appendChild(button);
            });
          } else {
            alert("未找到指定内容！");
          }
        }
      };
      rawFile.send();
    }

    function copyPromptToClipboard(content, promptName) {
      var startIndex = content.indexOf("[" + promptName + "开始]");
      var endIndex = content.indexOf("[" + promptName + "结束]");
      if (startIndex !== -1 && endIndex !== -1 && startIndex < endIndex) {
        var trimmedContent = content.substring(startIndex + promptName.length + 2, endIndex).trim().split("\n").slice(1).join("\n");
        copyToClipboard(trimmedContent);
        alert("已复制 " + promptName + " 到剪贴板！");
        window.location.href = "index5.html";
      } else {
        alert("未找到指定内容！");
      }
    }
  </script>
</head>
<body onload="readFile()">
  <div id="button-container"></div>
</body>
</html>
