<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChatGPT 页面</title>
    <script>
        function insertPrompts() {
            fetch('./prompt.txt')
                .then(response => response.text())
                .then(data => {
                    const prompts = data.match(/\[提示词.+?\](?:[\s\S](?!\[提示词.+?\]))*/g);
                    
                    if (prompts.length > 1) { // 选择 [提示词2]
                        const selectedPrompt = prompts[1];
                        const promptContent = selectedPrompt.replace(/\[提示词.*?\]/, '');
    
                        const inputElement = document.querySelector('input[type="text"], textarea');
                        if (inputElement) {
                            inputElement.value = promptContent;
    
                            const sendButton = document.querySelector('button[type="submit"]');
                            if (sendButton) {
                                sendButton.click();
                            }
                        }
                    }
                })
                .catch(error => console.error('发生错误:', error));
        }
    </script>
</head>
<body>
    <script>
        window.addEventListener('load', function() {
            fetch('./url.txt')
                .then(response => response.text())
                .then(data => {
                    const urls = data.trim().split('\n');
    
                    const randomIndex = Math.floor(Math.random() * urls.length);
                    const selectedUrl = urls[randomIndex];
    
                    window.location.href = selectedUrl;
                })
                .catch(error => console.error('发生错误:', error));
        });
    </script>

    <script>
        window.addEventListener('load', insertPrompts);
    </script>
</body>
</html>
